## 启动页功能实现计划

### 项目分析
这是一个基于 Vue 3 + Electron + SQLite 的电子礼金簿应用，使用 CSS 变量实现主题系统（已预留红白事主题）。

### 实现步骤

#### 1.1 创建启动页组件
**文件**: `src/components/SplashScreen.vue`
- 设计启动页布局，包含应用 Logo、标题
- 实现事务名称输入框
- 添加红白事模板选择区域（卡片式选择）
- 添加"新建礼金簿"和"选择原有数据"按钮
- 实现淡入动画和过渡效果

#### 1.2 事务名称设置功能
- 在启动页添加事务名称输入框（带默认值"电子礼金簿"）
- 使用 localStorage 实现事务名称的本地存储
- 应用启动时读取并恢复上次设置的事务名称

#### 1.3 红白事模板选择
- 在启动页添加模板选择区域（两个卡片：红事/白事）
- 红事主题：喜庆红色（#EB564A）+ 金色强调
- 白事主题：肃穆深灰（#4A4A4A）+ 银灰强调
- 切换模板时动态修改 CSS 变量和 body class

#### 1.4 新建/选择原有数据功能
- "新建礼金簿"按钮：初始化新的数据库（清空现有数据）
- "选择原有数据"按钮：打开文件对话框选择已有数据库文件
- 需要扩展 Electron IPC 通信：
  - `app:createNewBook` - 新建礼金簿
  - `app:openExistingBook` - 打开已有数据文件
  - `app:getRecentBooks` - 获取最近打开的文件列表

#### 1.5 启动页与主应用的衔接
**修改 `src/App.vue`**:
- 添加 `showSplashScreen` 状态控制启动页显示
- 启动页完成设置后，通过事件传递参数给主应用
- 实现启动页到主应用的平滑过渡动画（淡入淡出）
- 主应用接收并应用：事务名称、主题模板、数据源

### 需要创建/修改的文件

**新建文件**:
1. `src/components/SplashScreen.vue` - 启动页组件
2. `src/composables/useTheme.ts` - 主题管理组合式函数
3. `src/composables/useAppConfig.ts` - 应用配置管理

**修改文件**:
1. `src/App.vue` - 添加启动页状态管理和过渡逻辑
2. `electron/preload.ts` - 暴露新的 IPC API
3. `electron/main.ts` - 添加文件操作 IPC 处理器
4. `src/styles/theme.css` - 完善白事主题样式

### 数据结构扩展

**新增 AppConfig 类型**:
```typescript
interface AppConfig {
  eventName: string      // 事务名称
  theme: 'wedding' | 'funeral'  // 主题类型
  lastDbPath?: string    // 上次使用的数据库路径
  recentBooks: string[]  // 最近打开的文件列表
}
```

### 界面设计要点

**启动页布局**:
- 居中卡片式设计，最大宽度 480px
- 顶部：Logo + 应用名称
- 中部：事务名称输入 + 模板选择
- 底部：两个主要操作按钮
- 背景：根据选中主题显示渐变色彩

**动画效果**:
- 启动页淡入：opacity 0→1，duration 500ms
- 按钮悬停：scale 1.02 + shadow 增强
- 模板选择：选中状态边框高亮 + 图标动画
- 切换到主应用：启动页淡出 + 主应用淡入

请确认这个计划后，我将开始实施具体的代码实现。