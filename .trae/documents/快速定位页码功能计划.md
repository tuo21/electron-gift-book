# 快速定位页码功能计划

## 需求概述
在分页栏增加一个快速跳转到指定页码的输入框，让用户可以直接输入页码跳转，而不需要一页一页翻。

## 功能设计

### 1. UI 设计
- 在分页栏中间（页码信息显示区域）添加一个页码输入框
- 输入框显示当前页码，用户可以修改后按回车跳转
- 格式：`第 [输入框] / 总页数 页`

### 2. 交互逻辑
- 输入框默认显示当前页码
- 点击输入框可以编辑
- 按回车键确认跳转
- 输入非法值（小于1或大于总页数）时自动修正或提示
- 失去焦点时如果值改变，也执行跳转

### 3. 需要修改的文件

#### 3.1 RecordList.vue
**位置：** `src/components/RecordList.vue`

**修改内容：**
- 在 `pagination-bar` 区域修改页码显示部分
- 将 `第 {{ currentPage }} / {{ totalPages }} 页` 改为可编辑的输入框形式
- 添加输入框的事件处理（keydown.enter、blur）
- 添加页码验证逻辑

**具体实现：**
```vue
<!-- 当前页码输入框 -->
<div class="page-input-wrapper">
  <span>第</span>
  <input
    type="number"
    class="page-input"
    :value="currentPage"
    min="1"
    :max="totalPages"
    @keydown.enter="handlePageInput"
    @blur="handlePageInput"
  />
  <span>/ {{ totalPages }} 页</span>
</div>
```

**添加的方法：**
```typescript
const handlePageInput = (event: Event) => {
  const target = event.target as HTMLInputElement;
  let page = parseInt(target.value, 10);
  
  // 验证页码范围
  if (isNaN(page) || page < 1) {
    page = 1;
  } else if (page > totalPages.value) {
    page = totalPages.value;
  }
  
  // 跳转页码
  if (page !== currentPage.value) {
    currentPage.value = page;
  }
  
  // 更新输入框显示（防止非法值）
  target.value = page.toString();
};
```

**添加的样式：**
```css
.page-input-wrapper {
  display: flex;
  align-items: center;
  gap: 4px;
}

.page-input {
  width: 50px;
  padding: 4px 8px;
  border: 1px solid var(--theme-border-color);
  border-radius: 4px;
  text-align: center;
  font-size: 14px;
  background: white;
  color: var(--theme-text-primary);
}

.page-input:focus {
  outline: none;
  border-color: var(--theme-accent);
}

/* 隐藏数字输入框的上下箭头 */
.page-input::-webkit-outer-spin-button,
.page-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
```

## 实现步骤

1. **修改 RecordList.vue 的模板部分**
   - 替换原有的页码显示为输入框形式

2. **添加 handlePageInput 方法**
   - 处理页码输入和验证

3. **添加样式**
   - 输入框样式和布局

## 预期效果
- 用户可以直接点击页码数字，输入目标页码后回车跳转
- 提高大数据量时的浏览效率
- 保持界面简洁美观

## 注意事项
- 输入框宽度要适中，能容纳最大页码数字
- 需要处理输入非法字符的情况
- 保持与现有分页按钮的兼容性
