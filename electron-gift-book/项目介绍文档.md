# 电子礼金簿项目介绍文档

## 1. 项目概述

电子礼金簿是一款专为传统礼仪场合设计的现代化礼金记录管理工具，采用 Electron + Vue 3 + TypeScript 技术栈开发，支持跨平台运行。

**核心价值**：
- 替代传统纸质礼金簿，实现数字化管理
- 支持多种支付方式记录（现金、微信、内收）
- 提供数据导入导出功能，方便数据备份和迁移
- 美观的传统中式界面设计，符合礼仪场合氛围
- 实时统计功能，快速掌握礼金收支情况

## 2. 技术栈

| 类别 | 技术/库 | 版本 | 用途 |
|------|---------|------|------|
| 前端框架 | Vue 3 | ^3.4.21 | 构建用户界面 |
| 开发语言 | TypeScript | ^5.2.2 | 类型安全的代码开发 |
| 构建工具 | Vite | ^5.1.6 | 快速开发和构建 |
| 桌面应用 | Electron | ^30.0.1 | 跨平台桌面应用 |
| UI 框架 | Tailwind CSS | ^3.4.19 | 样式管理 |
| 数据库 | Better-SQLite3 | ^12.6.2 | 本地数据存储 |
| 数据导出 | xlsx | ^0.18.5 | Excel 导出 |
| 数据导出 | jspdf | ^4.1.0 | PDF 导出 |
| 数据导出 | html2canvas | ^1.4.1 | PDF 渲染 |

## 3. 项目结构

```
electron-gift-book/
├── build/                  # 构建输出目录
├── electron/               # Electron 主进程代码
│   ├── database.ts         # 数据库操作
│   ├── main.ts             # 主进程入口
│   └── preload.ts          # 预加载脚本
├── public/                 # 静态资源
│   ├── images/             # 图片资源
│   └── print.html          # 打印模板
├── src/                    # 前端源代码
│   ├── components/         # 组件
│   │   ├── ImportDialog.vue  # 导入对话框
│   │   ├── RecordForm.vue    # 记录录入表单
│   │   ├── RecordList.vue    # 记录列表
│   │   └── SplashScreen.vue  # 启动页
│   ├── composables/        # 组合式函数
│   │   ├── useAppConfig.ts   # 应用配置
│   │   └── useTheme.ts       # 主题管理
│   ├── constants/          # 常量定义
│   ├── styles/             # 样式文件
│   ├── types/              # 类型定义
│   │   └── database.ts       # 数据库相关类型
│   ├── utils/              # 工具函数
│   │   ├── amountConverter.ts  # 金额转换
│   │   ├── export.ts           # 导出功能
│   │   ├── import.ts           # 导入功能
│   │   └── lunarCalendar.ts    # 农历日历
│   ├── App.vue             # 根组件
│   └── main.ts             # 前端入口
├── package.json            # 项目配置
└── vite.config.ts          # Vite 配置
```

## 4. 核心功能

### 4.1 礼金记录管理

- **记录录入**：支持输入宾客姓名、礼金金额、支付方式、备注和物品描述
- **金额大写转换**：自动将数字金额转换为中文大写格式
- **编辑功能**：支持对已有记录进行修改
- **删除功能**：支持软删除记录，保留修改历史
- **右键菜单**：提供快捷操作菜单

### 4.2 数据展示

- **传统礼金簿样式**：模拟传统礼金簿的竖排文字展示方式
- **宣纸背景**：采用洒金宣纸肌理背景，增强传统氛围
- **分页显示**：支持分页浏览记录，每页默认15条
- **横向滚动**：支持横向滚动查看更多记录
- **自适应字体**：根据文字长度自动调整字号

### 4.3 统计分析

- **实时统计**：显示总人数、总金额、各支付方式金额
- **统计详情**：提供详细的统计数据
- **金额隐藏**：支持一键隐藏金额，保护隐私

### 4.4 数据导入导出

- **Excel 导出**：支持导出为 Excel 格式，方便数据分析
- **PDF 导出**：支持导出为 PDF 格式，模拟传统礼金簿样式
- **数据导入**：支持从 Excel 文件导入数据

### 4.5 搜索功能

- **模糊搜索**：支持按姓名、备注、物品描述进行模糊搜索
- **搜索结果跳转**：点击搜索结果可跳转到对应记录

### 4.6 主题管理

- **多主题支持**：内置多种主题样式
- **主题切换**：支持实时切换主题

### 4.7 数据管理

- **新建礼金簿**：支持创建新的礼金簿
- **打开已有礼金簿**：支持打开历史礼金簿
- **最近使用记录**：显示最近使用的礼金簿

### 4.8 其他功能

- **农历日期显示**：实时显示农历日期
- **快捷键支持**：提供 F1-F3 等快捷键操作
- **启动页**：美观的启动页设计

## 5. 数据结构

### 5.1 核心数据类型

| 类型 | 描述 | 主要字段 |
|------|------|----------|
| Record | 礼金记录 | id, guestName, amount, amountChinese, itemDescription, paymentType, remark, createTime, updateTime, isDeleted |
| RecordHistory | 历史记录 | historyId, recordId, guestName, amount, itemDescription, paymentType, remark, newGuestName, newAmount, operationType, updateTime |
| Statistics | 统计数据 | totalCount, totalAmount, cashAmount, wechatAmount, internalAmount |

### 5.2 支付方式

| 类型 | 数值 | 描述 |
|------|------|------|
| CASH | 1 | 现金 |
| WECHAT | 2 | 微信 |
| INTERNAL | 3 | 内收 |

## 6. 主要组件

### 6.1 RecordForm 组件

**功能**：礼金记录录入和编辑表单

**主要特性**：
- 支持新增和编辑模式
- 实时金额大写转换
- 快捷键支持（F1-F3 切换支付方式）
- 表单验证
- 编辑提示和取消功能

### 6.2 RecordList 组件

**功能**：礼金记录展示和管理

**主要特性**：
- 传统礼金簿竖排展示
- 宣纸背景效果
- 分页功能
- 右键菜单操作
- 自适应字体大小
- 横向滚动支持

### 6.3 SplashScreen 组件

**功能**：应用启动页

**主要特性**：
- 新建礼金簿
- 打开已有礼金簿
- 导入数据
- 主题选择
- 最近使用记录

### 6.4 ImportDialog 组件

**功能**：数据导入对话框

**主要特性**：
- Excel 文件导入
- 数据预览
- 导入确认

## 7. 技术亮点

### 7.1 传统与现代结合

- **传统礼金簿样式**：模拟传统礼金簿的竖排文字展示方式
- **现代技术实现**：使用 Vue 3 + TypeScript + Electron 构建
- **宣纸背景效果**：通过 CSS 实现洒金宣纸肌理背景

### 7.2 用户体验优化

- **快捷键支持**：提供多种快捷键操作，提高录入效率
- **实时反馈**：操作后立即显示结果
- **智能提示**：提供表单验证和操作提示
- **隐私保护**：支持一键隐藏金额

### 7.3 数据安全

- **本地存储**：数据存储在本地 SQLite 数据库，无需网络连接
- **软删除**：删除记录时保留修改历史
- **数据备份**：支持导出为 Excel 和 PDF 格式

### 7.4 性能优化

- **虚拟滚动**：支持大量数据的高效展示
- **缓存机制**：减少重复计算
- **懒加载**：按需加载数据

## 8. 使用方法

### 8.1 基本操作

1. **启动应用**：打开电子礼金簿应用
2. **新建礼金簿**：在启动页输入事件名称，选择主题，点击"新建"
3. **录入记录**：在右侧表单中输入宾客信息，点击"确认"保存
4. **查看记录**：在左侧礼金簿区域查看已录入的记录
5. **编辑记录**：右键点击记录，选择"编辑"进行修改
6. **删除记录**：右键点击记录，选择"删除"进行删除

### 8.2 高级操作

1. **导出数据**：点击顶部"导出"按钮，选择导出格式
2. **搜索记录**：点击顶部"搜索"按钮，输入关键词进行搜索
3. **查看统计**：点击顶部"统计"按钮，查看详细统计数据
4. **切换礼金簿**：点击顶部"返回首页"按钮，选择其他礼金簿
5. **导入数据**：在启动页点击"导入"按钮，选择 Excel 文件导入

## 9. 特色功能

### 9.1 传统礼金簿样式

- **竖排文字**：模拟传统礼金簿的竖排文字展示方式
- **宣纸背景**：采用洒金宣纸肌理背景，增强传统氛围
- **毛笔字效果**：使用适合竖排展示的字体

### 9.2 金额大写转换

- **自动转换**：输入数字金额后自动转换为中文大写
- **实时更新**：编辑金额时实时更新大写格式
- **准确无误**：支持各种金额格式的准确转换

### 9.3 多支付方式支持

- **现金**：传统现金支付
- **微信**：现代电子支付
- **内收**：内部收支记录
- **图标区分**：不同支付方式使用不同图标标识

### 9.4 数据导入导出

- **Excel 导出**：适合数据分析和备份
- **PDF 导出**：模拟传统礼金簿样式，适合打印存档
- **Excel 导入**：支持从其他系统导入数据

### 9.5 农历日期显示

- **实时更新**：显示当前农历日期
- **传统节日**：支持显示传统节日信息

## 10. 未来发展

### 10.1 功能扩展

- **批量操作**：支持批量编辑和删除记录
- **数据备份**：支持自动备份数据
- **多语言支持**：添加多语言界面
- **云同步**：支持数据云同步功能

### 10.2 界面优化

- **更多主题**：添加更多传统和现代主题
- **自定义样式**：支持用户自定义样式
- **响应式设计**：优化不同屏幕尺寸的显示效果

### 10.3 数据分析

- **图表分析**：添加数据可视化图表
- **趋势分析**：提供礼金收支趋势分析
- **报表生成**：支持生成详细的财务报表

### 10.4 集成功能

- **微信扫码**：支持微信扫码录入
- **打印功能**：优化打印效果
- **模板管理**：支持自定义礼金簿模板

## 11. 系统要求

### 11.1 硬件要求

- **CPU**：Intel Core i3 或 equivalent
- **内存**：4GB 以上
- **存储**：500MB 以上可用空间
- **显示器**：1024x768 以上分辨率

### 11.2 软件要求

- **Windows**：Windows 7 及以上
- **macOS**：macOS 10.13 及以上
- **Linux**：Ubuntu 18.04 及以上

## 12. 安装方法

### 12.1 从安装包安装

1. 下载对应系统的安装包
2. 运行安装程序
3. 按照提示完成安装

### 12.2 从源码构建

1. 克隆代码仓库
2. 安装依赖：`npm install`
3. 构建应用：`npm run build`
4. 运行应用：`npm run dev`

## 13. 总结

电子礼金簿是一款结合传统与现代的礼金记录管理工具，通过数字化手段提升了传统礼金簿的使用体验。它不仅保留了传统礼金簿的文化内涵，还添加了现代科技的便利功能，为用户提供了一种既传统又现代的礼金记录解决方案。

**核心优势**：
- 传统与现代的完美结合
- 简洁直观的用户界面
- 强大的数据管理功能
- 高度的可定制性
- 数据安全可靠

电子礼金簿适用于各种礼仪场合，如婚礼、寿宴、庆典等，是传统礼金簿的理想替代品。