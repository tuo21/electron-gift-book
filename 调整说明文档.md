# 电子礼金簿项目调整说明文档

## 项目概述

电子礼金簿是一个基于 Electron + Vue 3 + TypeScript 开发的桌面应用，用于记录和管理礼金往来。项目采用了模块化设计和 CSS 变量系统，便于进行外观和功能的调整。

## 可调整部分详细指南

### 1. 外观调整

#### 1.1 主色调调整
- **文件位置**：`src/styles/theme.css`
- **调整方法**：修改 `:root` 中的 `--theme-primary` 变量
- **示例**：
  ```css
  --theme-primary: #EB564A; /* 默认红色 */
  --theme-primary: #4CAF50; /* 绿色主题 */
  --theme-primary: #2196F3; /* 蓝色主题 */
  ```

#### 1.2 纸张颜色调整
- **文件位置**：`src/styles/theme.css`
- **调整方法**：修改 `--theme-paper` 变量
- **示例**：
  ```css
  --theme-paper: #EDEDED; /* 默认浅灰色 */
  --theme-paper: #F5F5DC; /* 米色纸张 */
  ```

#### 1.3 阴影效果调整
- **文件位置**：`src/styles/theme.css`
- **调整方法**：修改 `--theme-shadow` 变量
- **示例**：
  ```css
  --theme-shadow: 0px 4.32px 12.96px rgba(0, 0, 0, 0.25); /* 默认阴影 */
  --theme-shadow: 0px 2px 8px rgba(0, 0, 0, 0.15); /* 更轻微的阴影 */
  ```

### 2. 字体更换

#### 2.1 全局字体更换
- **文件位置**：`src/styles/theme.css`
- **调整方法**：修改 `--theme-font-family` 变量
- **示例**：
  ```css
  --theme-font-family: 'KaiTi', 'STKaiti', 'SimSun', serif; /* 默认楷体 */
  --theme-font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif; /* 微软雅黑 */
  --theme-font-family: 'SimHei', 'Arial Black', sans-serif; /* 黑体 */
  ```

#### 2.2 字体大小调整
- **文件位置**：`src/styles/theme.css`
- **调整方法**：修改对应的 `--theme-font-size-*` 变量
- **主要变量**：
  - `--theme-font-size-xxxl`: 超超大（40px，礼金展示姓名、金额）
  - `--theme-font-size-xxl`: 超大（28px，标题）
  - `--theme-font-size-xl`: 大（24px，面板标题）
  - `--theme-font-size-lg`: 中（20px，标题）
  - `--theme-font-size-md`: 正常（16px，普通文字）
  - `--theme-font-size-sm`: 小（14px，标签）
  - `--theme-font-size-xs`: 超小（12px，提示文字）

### 3. 背景肌理更改

#### 3.1 更换背景图片
- **文件位置**：`src/components/RecordList.vue`
- **调整方法**：修改 `.paper-background` 类的 `background-image` 属性
- **示例**：
  ```css
  .paper-background {
    background-image: url('/images/洒金宣纸肌理.png'); /* 默认 */
    /* 更换为其他图片 */
    background-image: url('/images/新的背景图片.png');
  }
  ```

#### 3.2 调整背景透明度
- **文件位置**：`src/components/RecordList.vue`
- **调整方法**：修改 `.paper-background` 类的 `opacity` 属性
- **示例**：
  ```css
  .paper-background {
    opacity: 0.18; /* 默认透明度 18% */
    opacity: 0.3; /* 更明显的背景效果 */
  }
  ```

### 4. 主要模块尺寸调整

#### 4.1 礼金簿网格调整
- **文件位置**：`src/styles/theme.css`
- **调整方法**：修改对应的 CSS 变量
- **主要变量**：
  - `--grid-column-width`: 单列宽度（默认72px）
  - `--grid-column-gap`: 列间距（默认0px）
  - `--grid-columns-per-page`: 每页列数（默认15）

#### 4.2 侧边栏宽度调整
- **文件位置**：`src/App.vue`
- **调整方法**：修改 `.sidebar-section` 类的 `width` 属性
- **示例**：
  ```css
  .sidebar-section {
    width: 208px; /* 默认宽度 */
    width: 250px; /* 更宽的侧边栏 */
  }
  ```

#### 4.3 头部导航栏调整
- **文件位置**：`src/App.vue`
- **调整方法**：修改 `.app-header` 类的 `padding` 属性
- **示例**：
  ```css
  .app-header {
    padding: var(--theme-spacing-md) var(--theme-spacing-xl); /* 默认 */
    padding: 20px 40px; /* 更高的导航栏 */
  }
  ```

#### 4.4 每页显示数量调整
- **文件位置**：`src/App.vue`
- **调整方法**：修改 `RecordList` 组件的 `page-size` 属性
- **示例**：
  ```vue
  <RecordList ref="recordListRef" :records="records" :page-size="15" 
              @edit="handleEdit" @delete="handleDelete" />
  <!-- 修改为每页显示20条 -->
  <RecordList ref="recordListRef" :records="records" :page-size="20" 
              @edit="handleEdit" @delete="handleDelete" />
  ```

### 5. 图标更换

#### 5.1 功能按钮图标
- **文件位置**：`src/App.vue`
- **调整方法**：修改 `.func-btn` 中的 `.btn-icon` 内容
- **示例**：
  ```vue
  <button class="func-btn" @click="handleSave">
    <span class="btn-icon">💾</span><span class="btn-text">保存</span>
  </button>
  <!-- 更换为其他图标 -->
  <button class="func-btn" @click="handleSave">
    <span class="btn-icon">📁</span><span class="btn-text">保存</span>
  </button>
  ```

#### 5.2 支付方式图标
- **文件位置**：`src/components/RecordList.vue`
- **调整方法**：修改 `getPaymentIcon` 函数中的图片路径
- **示例**：
  ```javascript
  const getPaymentIcon = (type: number): string => {
    const icons: { [key: number]: string } = {
      [PaymentType.CASH]: '/images/现金收入icon.png', /* 默认 */
      [PaymentType.WECHAT]: '/images/微信收入icon.png',
      [PaymentType.INTERNAL]: '/images/内收收入icon.png',
    };
    return icons[type] || icons[PaymentType.CASH];
  };
  ```

#### 5.3 Logo 更换
- **文件位置**：`public/images/logo.png`
- **调整方法**：直接替换该文件

### 6. 主题切换

项目支持通过添加类名切换主题，目前已预留了丧仪白主题和寿宴金主题的样式定义。

- **文件位置**：`src/styles/theme.css`
- **使用方法**：在 `body` 标签上添加对应类名
- **示例**：
  ```html
  <!-- 默认红色喜庆主题 -->
  <body>
  
  <!-- 丧仪白主题 -->
  <body class="theme-funeral">
  
  <!-- 寿宴金主题 -->
  <body class="theme-birthday">
  ```

## 项目文件结构

```
electron-gift-book/
├── public/
│   └── images/          # 图片资源目录
│       ├── logo.png     # 应用Logo
│       ├── 洒金宣纸肌理.png  # 背景肌理图片
│       └── *收入icon.png   # 支付方式图标
├── src/
│   ├── components/      # Vue组件
│   │   ├── RecordForm.vue  # 录入表单组件
│   │   └── RecordList.vue  # 礼金簿展示组件
│   ├── styles/          # 样式文件
│   │   └── theme.css    # 主题变量定义
│   ├── App.vue          # 主应用组件
│   └── main.ts          # 应用入口
└── package.json         # 项目配置和依赖
```

## 技术特点

1. **CSS 变量主题系统**：通过修改 CSS 变量可以快速调整整个应用的样式
2. **响应式布局**：适配不同屏幕尺寸
3. **多格式导出**：支持导出 Excel 和 PDF 格式
4. **农历日期显示**：集成了农历日期计算功能
5. **完整的记录管理**：支持添加、编辑、删除和搜索记录
6. **修改历史追踪**：记录所有修改操作，便于追溯

## 调整建议

1. **外观一致性**：调整颜色和字体时，建议保持整体风格的一致性
2. **性能考虑**：背景图片建议使用适当大小，避免过大影响加载速度
3. **用户体验**：调整尺寸时，建议保持界面元素的合理比例和间距
4. **测试验证**：每次调整后，建议测试导出功能和打印效果，确保格式正确

通过以上调整，您可以根据不同场合的需求，快速定制电子礼金簿的外观和功能，使其更符合特定场景的使用需求。